"use strict";(self.webpackChunkayush_fhir_frontend=self.webpackChunkayush_fhir_frontend||[]).push([[743],{20658:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(33797).A)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},25979:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(33797).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},46291:(e,t,a)=>{a.d(t,{b:()=>o});var r=a(22555),s=a(79722),n=a(23768);const i=s.A.create({baseURL:"http://localhost:5000",timeout:1e4,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>{var t,a,r,s,i,o;const c=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||e.message||"An error occurred";return 401===(null===(r=e.response)||void 0===r?void 0:r.status)?(localStorage.removeItem("authToken"),n.Ay.error("Session expired. Please login again.")):(null===(s=e.response)||void 0===s?void 0:s.status)>=500&&(null===(i=e.response)||void 0===i||null===(o=i.data)||void 0===o||!o.message)?n.Ay.error("Server error. Please try again later."):n.Ay.error(c),Promise.reject(e)});const o={health:()=>i.get("/health"),searchTerms:(e,t)=>i.get("/api/terminology/search",{params:(0,r.A)({q:e},t)}),getTermById:e=>i.get("/api/terminology/term/".concat(e)),getTermsByCategory:e=>i.get("/api/terminology/category/".concat(e)),getMappedTerms:()=>i.get("/api/terminology/mapped"),translateCode:(e,t)=>i.post("/api/translation",{code:e,system:t}),getCodeSystem:()=>i.get("/api/fhir/CodeSystem/namaste"),getConceptMap:()=>i.get("/api/fhir/ConceptMap/namaste-to-icd11"),searchICD11:e=>i.get("/api/icd/search",{params:{q:e}}),ingestCSV:e=>i.post("/admin/ingest-csv",{csvData:e}),loadSampleData:()=>i.post("/admin/load-sample"),getStatistics:()=>i.get("/admin/statistics"),clearData:()=>i.delete("/admin/clear"),getAuthToken:e=>i.post("/auth/token",{abhaId:e})}},54068:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(33797).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},58743:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(65043),s=a(96938),n=a(60012),i=a(82907),o=a(59485),c=a(54068),d=a(81024),l=a(33797);const m=(0,l.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var x=a(25979),h=a(20658);const u=(0,l.A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var g=a(46291),p=a(23768),y=a(70579);const f=()=>{var e;const[t,a]=(0,r.useState)(""),[l,f]=(0,r.useState)("NAMASTE"),[b,v]=(0,r.useState)(""),j=(0,i.useMutation)(e=>g.b.translateCode(e.code,e.system),{onSuccess:()=>{p.Ay.success("Translation completed!")},onError:()=>{p.Ay.error("Translation failed. Please check the code and try again.")}});return(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,y.jsx)("div",{className:"p-2 bg-accent-100 dark:bg-accent-900/30 rounded-lg",children:(0,y.jsx)(o.A,{className:"h-6 w-6 text-accent-600 dark:text-accent-400"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Code Translation"}),(0,y.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Convert between NAMASTE and ICD-11 TM2 codes"})]})]}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,y.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source System"}),(0,y.jsxs)("select",{value:l,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[(0,y.jsx)("option",{value:"NAMASTE",children:"NAMASTE (Traditional Medicine)"}),(0,y.jsx)("option",{value:"ICD-11-TM2",children:"ICD-11 TM2 (International)"})]})]}),(0,y.jsx)("button",{onClick:()=>{f("NAMASTE"===l?"ICD-11-TM2":"NAMASTE"),a(""),j.reset()},className:"p-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 rounded-lg transition-colors mt-6",title:"Swap systems",children:(0,y.jsx)(c.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,y.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target System"}),(0,y.jsx)("div",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400",children:"NAMASTE"===l?"ICD-11 TM2 (International)":"NAMASTE (Traditional Medicine)"})]})]}),(0,y.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,y.jsxs)("div",{className:"flex-1 max-w-md",children:[(0,y.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source Code"}),(0,y.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"NAMASTE"===l?"e.g., AY001":"e.g., TM2-AY134",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),(0,y.jsx)("button",{onClick:()=>{t.trim()?j.mutate({code:t.trim(),system:l}):p.Ay.error("Please enter a code to translate")},disabled:j.isLoading||!t.trim(),className:"btn-primary px-6 py-2 mt-6 disabled:opacity-50 disabled:cursor-not-allowed",children:j.isLoading?(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("div",{className:"spinner"}),(0,y.jsx)("span",{children:"Translating..."})]}):"Translate"})]})]})]}),(0,y.jsx)(s.N,{children:j.data&&(0,y.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,y.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,y.jsx)(d.A,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Translation Results"}),(0,y.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[j.data.data.total," translation(s) found"]})]})]}),(0,y.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:(0,y.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,y.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r ".concat((k=l,"NAMASTE"===k?"from-green-500 to-green-600":"from-blue-500 to-blue-600")),children:(0,y.jsx)("span",{className:"text-white font-medium text-sm",children:l})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:t}),(0,y.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:(e=>"NAMASTE"===e?"NAMASTE (Traditional Medicine)":"ICD-11 TM2 (International)")(l)})]})]})}),j.data.data.translations.length>0?(0,y.jsx)("div",{className:"space-y-4",children:j.data.data.translations.map((e,t)=>(0,y.jsx)(n.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow dark:hover:bg-gray-700/30",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,y.jsx)(m,{className:"h-5 w-5 text-gray-400"}),(0,y.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r ".concat("NAMASTE"===e.system?"from-green-500 to-green-600":"from-blue-500 to-blue-600"),children:(0,y.jsx)("span",{className:"text-white font-medium text-sm",children:e.system})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.code}),(0,y.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.display})]})]}),(0,y.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,y.jsx)("button",{onClick:()=>{return t=e.code,navigator.clipboard.writeText(t),v(t),p.Ay.success("Copied to clipboard!"),void setTimeout(()=>v(""),2e3);var t},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Copy code",children:b===e.code?(0,y.jsx)(d.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):(0,y.jsx)(x.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})}),"ICD-11-TM2"===e.system&&(0,y.jsx)("button",{onClick:()=>window.open("https://icd.who.int/browse11/l-m/en#/http://id.who.int/icd/entity/".concat(e.code),"_blank"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"View in ICD-11",children:(0,y.jsx)(h.A,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]})]})},t))}):(0,y.jsxs)("div",{className:"text-center py-8",children:[(0,y.jsx)(u,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,y.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No translations found"}),(0,y.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:['The code "',t,"\" doesn't have any mappings in the ",l," system."]})]}),(0,y.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,y.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,y.jsxs)("span",{children:["Translation completed at ",new Date(j.data.data.timestamp).toLocaleString()]}),(0,y.jsxs)("span",{children:["Source: ",j.data.data.source.system," \u2192 Target: ",(null===(e=j.data.data.translations[0])||void 0===e?void 0:e.system)||"Unknown"]})]})})]})}),(0,y.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 transition-colors",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:"How to use Code Translation"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800 dark:text-blue-200",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"font-medium mb-2",children:"NAMASTE Codes:"}),(0,y.jsxs)("ul",{className:"space-y-1",children:[(0,y.jsx)("li",{children:"\u2022 Format: AY001, UN001, SI001"}),(0,y.jsx)("li",{children:"\u2022 Ayurvedic (AY), Unani (UN), Siddha (SI)"}),(0,y.jsx)("li",{children:"\u2022 Traditional medicine terminology"})]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h4",{className:"font-medium mb-2",children:"ICD-11 TM2 Codes:"}),(0,y.jsxs)("ul",{className:"space-y-1",children:[(0,y.jsx)("li",{children:"\u2022 Format: TM2-AY134, TM2-UN045"}),(0,y.jsx)("li",{children:"\u2022 International classification"}),(0,y.jsx)("li",{children:"\u2022 WHO standardized codes"})]})]})]})]})]});var k}},81024:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(33797).A)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},96938:(e,t,a)=>{a.d(t,{N:()=>p});var r=a(65043),s=a(40293);function n(){const e=(0,r.useRef)(!1);return(0,s.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=a(37065);var o=a(9674),c=a(34930);class d extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function l(e){let{children:t,isPresent:a}=e;const s=(0,r.useId)(),n=(0,r.useRef)(null),i=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:o}=i.current;if(a||!n.current||!e||!t)return;n.current.dataset.motionPopId=s;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[a]),r.createElement(d,{isPresent:a,childRef:n,sizeRef:i},r.cloneElement(t,{ref:n}))}const m=e=>{let{children:t,initial:a,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:d,mode:m}=e;const h=(0,c.M)(x),u=(0,r.useId)(),g=(0,r.useMemo)(()=>({id:u,initial:a,isPresent:s,custom:i,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;n&&n()},register:e=>(h.set(e,!1),()=>h.delete(e))}),d?void 0:[s]);return(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[s]),r.useEffect(()=>{!s&&!h.size&&n&&n()},[s]),"popLayout"===m&&(t=r.createElement(l,{isPresent:s},t)),r.createElement(o.t.Provider,{value:g},t)};function x(){return new Map}var h=a(2190);var u=a(58129);const g=e=>e.key||"";const p=e=>{let{children:t,custom:a,initial:o=!0,onExitComplete:c,exitBeforeEnter:d,presenceAffectsLayout:l=!0,mode:x="sync"}=e;(0,u.V)(!d,"Replace exitBeforeEnter with mode='wait'");const p=(0,r.useContext)(h.L).forceRender||function(){const e=n(),[t,a]=(0,r.useState)(0),s=(0,r.useCallback)(()=>{e.current&&a(t+1)},[t]);return[(0,r.useCallback)(()=>i.Gt.postRender(s),[s]),t]}()[0],y=n(),f=function(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(t);let b=f;const v=(0,r.useRef)(new Map).current,j=(0,r.useRef)(b),k=(0,r.useRef)(new Map).current,N=(0,r.useRef)(!0);var A;if((0,s.E)(()=>{N.current=!1,function(e,t){e.forEach(e=>{const a=g(e);t.set(a,e)})}(f,k),j.current=b}),A=()=>{N.current=!0,k.clear(),v.clear()},(0,r.useEffect)(()=>()=>A(),[]),N.current)return r.createElement(r.Fragment,null,b.map(e=>r.createElement(m,{key:g(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:l,mode:x},e)));b=[...b];const w=j.current.map(g),T=f.map(g),C=w.length;for(let r=0;r<C;r++){const e=w[r];-1!==T.indexOf(e)||v.has(e)||v.set(e,void 0)}return"wait"===x&&v.size&&(b=[]),v.forEach((e,t)=>{if(-1!==T.indexOf(t))return;const s=k.get(t);if(!s)return;const n=w.indexOf(t);let i=e;if(!i){const e=()=>{v.delete(t);const e=Array.from(k.keys()).filter(e=>!T.includes(e));if(e.forEach(e=>k.delete(e)),j.current=f.filter(a=>{const r=g(a);return r===t||e.includes(r)}),!v.size){if(!1===y.current)return;p(),c&&c()}};i=r.createElement(m,{key:g(s),isPresent:!1,onExitComplete:e,custom:a,presenceAffectsLayout:l,mode:x},s),v.set(t,i)}b.splice(n,0,i)}),b=b.map(e=>{const t=e.key;return v.has(t)?e:r.createElement(m,{key:g(e),isPresent:!0,presenceAffectsLayout:l,mode:x},e)}),r.createElement(r.Fragment,null,v.size?b:b.map(e=>(0,r.cloneElement)(e)))}}}]);
//# sourceMappingURL=743.698f4567.chunk.js.map