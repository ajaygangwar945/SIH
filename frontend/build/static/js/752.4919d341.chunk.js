"use strict";(self.webpackChunkayush_fhir_frontend=self.webpackChunkayush_fhir_frontend||[]).push([[752],{10752:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});s(65043);var t=s(82907),r=s(47219),i=s(16852),l=s(52763),d=s(33797);const n=(0,d.A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var c=s(54068),o=s(37008);const x=(0,d.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var m=s(46291),g=s(23768),y=s(70579);const h=()=>{var e,a,s,d,h;const u=(0,t.useQueryClient)(),{data:p,isLoading:v}=(0,t.useQuery)("statistics",()=>m.b.getStatistics().then(e=>e.data),{refetchInterval:3e4}),j=(0,t.useMutation)(()=>m.b.loadSampleData(),{onSuccess:()=>{g.Ay.success("Sample data loaded successfully!"),u.invalidateQueries("statistics"),u.invalidateQueries("search")},onError:e=>{var a,s;const t=(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||e.message||"Failed to load sample data";g.Ay.error("Error: ".concat(t)),console.error("Load sample error:",e)}}),b=(0,t.useMutation)(()=>m.b.clearData(),{onSuccess:()=>{g.Ay.success("All data cleared successfully!"),u.invalidateQueries("statistics"),u.invalidateQueries("search")},onError:()=>{g.Ay.error("Failed to clear data")}});return(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:(0,y.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,y.jsx)("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:(0,y.jsx)(r.A,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Admin Panel"}),(0,y.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage data and system settings"})]})]})}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,y.jsx)("div",{className:"lg:col-span-2 flex flex-col",children:(0,y.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors flex-1",children:[(0,y.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,y.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,y.jsx)(i.A,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"System Statistics"}),(0,y.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Current data store metrics"})]})]}),v?(0,y.jsxs)("div",{className:"text-center py-8",children:[(0,y.jsx)("div",{className:"spinner mx-auto mb-4"}),(0,y.jsx)("p",{className:"text-gray-600",children:"Loading statistics..."})]}):(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 transition-colors",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Terms"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null===p||void 0===p||null===(e=p.statistics)||void 0===e?void 0:e.totalTerms)||0})]}),(0,y.jsx)(l.A,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})]})}),(0,y.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 transition-colors",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Categories"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null===p||void 0===p||null===(a=p.statistics)||void 0===a?void 0:a.categoryCount)||0})]}),(0,y.jsx)(n,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})]})}),(0,y.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 transition-colors",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Index Size"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null===p||void 0===p||null===(s=p.statistics)||void 0===s?void 0:s.indexSize)||0})]}),(0,y.jsx)(c.A,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})]})}),(0,y.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 transition-colors",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Cache Keys"}),(0,y.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:(null===p||void 0===p||null===(d=p.statistics)||void 0===d||null===(h=d.cacheStats)||void 0===h?void 0:h.keys)||0})]}),(0,y.jsx)(l.A,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})]})})]})]})}),(0,y.jsx)("div",{className:"flex flex-col space-y-6",children:(0,y.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors flex-1 flex flex-col",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6",children:"Quick Actions"}),(0,y.jsxs)("div",{className:"flex-1 flex flex-col justify-center space-y-6",children:[(0,y.jsx)("button",{onClick:()=>j.mutate(),disabled:j.isLoading,className:"w-full btn-primary flex items-center justify-center space-x-2",children:j.isLoading?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"spinner"}),(0,y.jsx)("span",{children:"Loading..."})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.A,{className:"h-4 w-4"}),(0,y.jsx)("span",{children:"Load Sample Data"})]})}),(0,y.jsxs)("button",{onClick:()=>{const e=new Blob(['id,term,category,synonyms,icd11_tm2_code,references,description\nAY001,"Amlapitta","Ayurvedic Disease","Dyspepsia,Sour indigestion","TM2-AY134","Charaka Samhita","Acid dyspepsia characterized by sour belching and heartburn"\nAY002,"Vata Dosha Imbalance","Ayurvedic Constitutional Disorder","Wind disorder,Nervous system imbalance","","Sushruta Samhita","Imbalance of Vata dosha affecting movement and nervous functions"\nUN001,"Mizaj-e-Har","Unani Temperament","Hot temperament,Warm constitution","TM2-UN045","Canon of Medicine","Hot temperament in Unani medicine system"'],{type:"text/csv"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download="sample-namaste.csv",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a),g.Ay.success("Sample CSV downloaded!")},className:"w-full btn-secondary flex items-center justify-center space-x-2",children:[(0,y.jsx)(o.A,{className:"h-4 w-4"}),(0,y.jsx)("span",{children:"Download Sample CSV"})]}),(0,y.jsx)("button",{onClick:()=>b.mutate(),disabled:b.isLoading,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium px-4 py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center space-x-2",children:b.isLoading?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"spinner"}),(0,y.jsx)("span",{children:"Clearing..."})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x,{className:"h-4 w-4"}),(0,y.jsx)("span",{children:"Clear All Data"})]})})]})]})})]})]})}},46291:(e,a,s)=>{s.d(a,{b:()=>d});var t=s(22555),r=s(79722),i=s(23768);const l=r.A.create({baseURL:"http://localhost:5000",timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{const a=localStorage.getItem("authToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var a,s,t,r,l,d;const n=(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||e.message||"An error occurred";return 401===(null===(t=e.response)||void 0===t?void 0:t.status)?(localStorage.removeItem("authToken"),i.Ay.error("Session expired. Please login again.")):(null===(r=e.response)||void 0===r?void 0:r.status)>=500&&(null===(l=e.response)||void 0===l||null===(d=l.data)||void 0===d||!d.message)?i.Ay.error("Server error. Please try again later."):i.Ay.error(n),Promise.reject(e)});const d={health:()=>l.get("/health"),searchTerms:(e,a)=>l.get("/api/terminology/search",{params:(0,t.A)({q:e},a)}),getTermById:e=>l.get("/api/terminology/term/".concat(e)),getTermsByCategory:e=>l.get("/api/terminology/category/".concat(e)),getMappedTerms:()=>l.get("/api/terminology/mapped"),translateCode:(e,a)=>l.post("/api/translation",{code:e,system:a}),getCodeSystem:()=>l.get("/api/fhir/CodeSystem/namaste"),getConceptMap:()=>l.get("/api/fhir/ConceptMap/namaste-to-icd11"),searchICD11:e=>l.get("/api/icd/search",{params:{q:e}}),ingestCSV:e=>l.post("/admin/ingest-csv",{csvData:e}),loadSampleData:()=>l.post("/admin/load-sample"),getStatistics:()=>l.get("/admin/statistics"),clearData:()=>l.delete("/admin/clear"),getAuthToken:e=>l.post("/auth/token",{abhaId:e})}},47219:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(33797).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54068:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(33797).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}}]);
//# sourceMappingURL=752.4919d341.chunk.js.map