"use strict";(self.webpackChunkayush_fhir_frontend=self.webpackChunkayush_fhir_frontend||[]).push([[796],{19796:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var t=s(65043),r=s(60012),n=s(96938),o=s(81024),i=s(53010),d=s(25979),c=s(37008),l=s(55704),m=s(54068),g=s(82907),p=s(46291),x=s(23768),h=s(96476),y=s(74206),u=s(70579);const b=()=>{const[e,a]=(0,t.useState)(""),{addActivity:s}=(0,y.v)(),b=(0,g.useMutation)(()=>p.b.getCodeSystem(),{onSuccess:()=>{x.Ay.success("CodeSystem generated successfully!")},onError:()=>{x.Ay.error("Failed to generate CodeSystem")}}),j=(0,g.useMutation)(()=>p.b.getConceptMap(),{onSuccess:()=>{x.Ay.success("ConceptMap generated successfully!")},onError:()=>{x.Ay.error("Failed to generate ConceptMap")}}),N=(e,s)=>{navigator.clipboard.writeText(e),a(s),x.Ay.success("".concat("codesystem"===s?"CodeSystem":"ConceptMap"," copied to clipboard!")),setTimeout(()=>a(""),2e3)},v=(e,a)=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="namaste-".concat(a,".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),x.Ay.success("".concat("codesystem"===a?"CodeSystem":"ConceptMap"," downloaded!")),s("download","Downloaded ".concat("codesystem"===a?"CodeSystem":"ConceptMap"))};return(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,u.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,u.jsx)(c.A,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Export Resources"}),(0,u.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Download FHIR resources and mappings"})]})]})}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,u.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,u.jsx)(i.A,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"CodeSystem"})]}),(0,u.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Complete NAMASTE terminology with definitions and synonyms."}),(0,u.jsxs)("div",{className:"flex space-x-3",children:[(0,u.jsx)("button",{onClick:()=>b.mutate(),disabled:b.isLoading,className:"btn-primary flex items-center space-x-2",children:b.isLoading?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"spinner"}),(0,u.jsx)("span",{children:"Processing..."})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m.A,{className:"h-4 w-4"}),(0,u.jsx)("span",{children:"Generate & View"})]})}),b.data&&(0,u.jsxs)("button",{onClick:()=>v(b.data.data,"codesystem"),className:"btn-secondary flex items-center space-x-2",children:[(0,u.jsx)(c.A,{className:"h-4 w-4"}),(0,u.jsx)("span",{children:"Download JSON"})]})]})]}),(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 transition-colors",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,u.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:(0,u.jsx)(l.A,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),(0,u.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"ConceptMap"})]}),(0,u.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"NAMASTE to ICD-11 TM2 mappings for interoperability."}),(0,u.jsxs)("div",{className:"flex space-x-3",children:[(0,u.jsx)("button",{onClick:()=>j.mutate(),disabled:j.isLoading,className:"btn-primary flex items-center space-x-2",children:j.isLoading?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"spinner"}),(0,u.jsx)("span",{children:"Processing..."})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(m.A,{className:"h-4 w-4"}),(0,u.jsx)("span",{children:"Generate & View"})]})}),j.data&&(0,u.jsxs)("button",{onClick:()=>v(j.data.data,"conceptmap"),className:"btn-secondary flex items-center space-x-2",children:[(0,u.jsx)(c.A,{className:"h-4 w-4"}),(0,u.jsx)("span",{children:"Download JSON"})]})]})]})]}),(0,u.jsx)(n.N,{children:b.data&&(0,u.jsxs)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-900 rounded-xl overflow-hidden shadow-inner mt-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-800 border-b border-gray-700",children:[(0,u.jsx)("span",{className:"text-sm text-gray-400 font-mono",children:"CodeSystem Preview"}),(0,u.jsx)("button",{onClick:()=>N(JSON.stringify(b.data.data,null,2),"codesystem"),className:"text-gray-400 hover:text-white transition-colors",children:"codesystem"===e?(0,u.jsx)(o.A,{className:"h-4 w-4"}):(0,u.jsx)(d.A,{className:"h-4 w-4"})})]}),(0,u.jsx)(h.Ay,{language:"json",customStyle:{margin:0,padding:"1.25rem",fontSize:"13px",maxHeight:"300px",backgroundColor:"transparent"},children:JSON.stringify(b.data.data,null,2)})]})}),(0,u.jsx)(n.N,{children:j.data&&(0,u.jsxs)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-900 rounded-xl overflow-hidden shadow-inner mt-6",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-800 border-b border-gray-700",children:[(0,u.jsx)("span",{className:"text-sm text-gray-400 font-mono",children:"ConceptMap Preview"}),(0,u.jsx)("button",{onClick:()=>N(JSON.stringify(j.data.data,null,2),"conceptmap"),className:"text-gray-400 hover:text-white transition-colors",children:"conceptmap"===e?(0,u.jsx)(o.A,{className:"h-4 w-4"}):(0,u.jsx)(d.A,{className:"h-4 w-4"})})]}),(0,u.jsx)(h.Ay,{language:"json",customStyle:{margin:0,padding:"1.25rem",fontSize:"13px",maxHeight:"300px",backgroundColor:"transparent"},children:JSON.stringify(j.data.data,null,2)})]})})]})}},46291:(e,a,s)=>{s.d(a,{b:()=>i});var t=s(22555),r=s(79722),n=s(23768);const o=r.A.create({baseURL:"http://localhost:5000",timeout:1e4,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{const a=localStorage.getItem("authToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,e=>{var a,s,t,r,o,i;const d=(null===(a=e.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||e.message||"An error occurred";return 401===(null===(t=e.response)||void 0===t?void 0:t.status)?(localStorage.removeItem("authToken"),n.Ay.error("Session expired. Please login again.")):(null===(r=e.response)||void 0===r?void 0:r.status)>=500&&(null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i||!i.message)?n.Ay.error("Server error. Please try again later."):n.Ay.error(d),Promise.reject(e)});const i={health:()=>o.get("/health"),searchTerms:(e,a)=>o.get("/api/terminology/search",{params:(0,t.A)({q:e},a)}),getTermById:e=>o.get("/api/terminology/term/".concat(e)),getTermsByCategory:e=>o.get("/api/terminology/category/".concat(e)),getMappedTerms:()=>o.get("/api/terminology/mapped"),translateCode:(e,a)=>o.post("/api/translation",{code:e,system:a}),getCodeSystem:()=>o.get("/api/fhir/CodeSystem/namaste"),getConceptMap:()=>o.get("/api/fhir/ConceptMap/namaste-to-icd11"),searchICD11:e=>o.get("/api/icd/search",{params:{q:e}}),ingestCSV:e=>o.post("/admin/ingest-csv",{csvData:e}),loadSampleData:()=>o.post("/admin/load-sample"),getStatistics:()=>o.get("/admin/statistics"),clearData:()=>o.delete("/admin/clear"),getAuthToken:e=>o.post("/auth/token",{abhaId:e})}}}]);
//# sourceMappingURL=796.067057fd.chunk.js.map